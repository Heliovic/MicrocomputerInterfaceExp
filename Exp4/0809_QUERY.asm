PA_8255 EQU 0600H
PB_8255 EQU 0602H
CTR_8255 EQU 0606H
PORT_0809 EQU 0640H

CODE SEGMENT
	ASSUME CS:CODE
START:
	
	MOV DX, CTR_8255
	MOV AL, 10010000B
	OUT DX, AL
	
	;MOV DX, PB_8255
	;MOV AL, 10100011B
	;OUT DX, AL
	
	
AA1:
	MOV DX, PORT_0809
	MOV AL, 0
	OUT DX, AL
	
	MOV DX, PA_8255
	
AA2:
	IN AL, DX
	AND AL, 01H
	CMP AL, 1
	JNZ AA2
	
	MOV DX, PORT_0809
	IN AL, DX
	
	MOV DX, PB_8255
	OUT DX, AL
	JMP AA1
	
	
	
EXIT:
	MOV AH, 4CH
	INT 21H
CODE ENDS
END START