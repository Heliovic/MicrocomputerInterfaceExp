PORT0_8254 EQU 06C0H
CTR_8254 EQU 06C6H

DATA SEGMENT
	;DAT DW 2267, 2020, 1798, 2267, 2020, 1798, 1798, 1697, 1512 , 1798, 1697, 1512
	DAT DW 2267, 2267, 1512, 1512, 1347, 1347, 1512, 1697, 1697 , 1798, 1798, 2020, 2020, 2267
DATA ENDS

CODE SEGMENT
	ASSUME CS:CODE
START:
	MOV AX, DATA
	MOV DS, AX
	
	MOV DX, CTR_8254
	MOV AL, 00110110B
	OUT DX, AL
AA1:	
	MOV CX, 14
	MOV SI, 0
LOP:
	LEA BX, DAT
	
	MOV AX, WORD PTR[BX + SI]
	
	MOV DX, PORT0_8254
	OUT DX, AL
	
	MOV AL, AH
	
	MOV DX, PORT0_8254
	OUT DX, AL
	
	CALL DELAY
	CALL DELAY
	CALL DELAY
	CALL DELAY
	CALL DELAY
	
	INC SI
	INC SI
	LOOP LOP
	JMP AA1
	
DELAY PROC NEAR
    PUSH CX
    MOV CX, 0FFFFH
    LOOP $
    POP CX
    RET
DELAY ENDP
CODE ENDS
	END START